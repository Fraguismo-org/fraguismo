{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static '/css/index.css' %}">
<link rel="stylesheet" href="{% static '/css/components.css' %}">

<section class="hero-section">
    <div class="img-hero-section">
        <img src="{% static '/images/ancapicon.webp' %}" class="d-block w-100" alt="bg-img" loading="lazy">
    </div>
    <div class="container-fluid d-flex justify-content-center align-items-center hero-content">
        <div class="wrapper-hero-content">
            <div class="hero-text" id="hero-text">
                <h1>O QUE É O FRAGUISMO?</h1>
                <p>O <strong>Fraguismo</strong> é a primeira religião libertária do Brasil, fundamentada na <strong>Lei Natural</strong>, que defende o 
                    respeito absoluto à <strong>vida, propriedade e liberdade.</strong> Acreditamos que todas as interações sociais devem ser <strong>voluntárias, </strong>
                    e que qualquer forma de coerção, ameaça factual ou agressão contra indivíduos pacíficos representa uma violação 
                    da <strong>propriedade</strong> e, portanto, infringe os princípios da nossa fé.</p>
                <p>Nossa religião não adota dogmas morais rígidos. Exigimos, porém, que todos os nossos seguidores respeitem a <strong>propriedade</strong> alheia. 
                    O <strong>Fraguismo</strong> é uma fé ecumênica, o que significa que nossos seguidores podem abraçar outras crenças espirituais e seguir 
                    diferentes doutrinas, desde que, acima de tudo, respeitem a <strong>Lei Natural.</strong></p>
            </div>
            <div class="video-fraga">
                <iframe src="https://www.youtube.com/embed/jHKABs6rMpM" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</section>

<div class="custom-shape-divider-top-1741034210">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M1200,0H0V120H281.94C572.9,116.24,602.45,3.86,602.45,3.86h0S632,116.24,923,120h277Z" class="shape-fill"></path>
    </svg>
</div>

<section class="triade-fraguista d-flex w-100 justify-content-center align-items-center">
    <div class="container d-flex justify-content-center align-items-center px-0 text-center">
        <div class="row w-100 justify-content-center d-flex flex-wrap">

            <!--Coluna lei natural-->
            <div class="col-md-4 d-flex flex-column" id="container-cards">
                <div class="wrapper-container d-flex flex-column h-100">
                    <div class="wrapper-bio-alt flex-grow-1 d-flex flex-column">
                        <h2 class="pb-12">Lei Natural</h2>
                        <p>
                            A <strong>Lei Natural</strong> estabelece que a vida, a propriedade e a liberdade são <strong>direitos naturais </strong>do ser humano, sendo <strong>inalienáveis.</strong> <br/><br/>
                            Ninguém, seja indivíduo, grupo ou entidade, tem o direito de violar esses direitos, pois eles derivam da própria condição humana.<br/><br/>
                            Seguimos o princípio da <strong>Lei Áurea:</strong> "Não faça aos outros o que não gostaria que fizessem contigo." 
                            Este é o fundamento central da nossa fé, que orienta todas as nossas ações e crenças.
                        </p>
                        <div style="display: flex; height: 100%; width: 100%; align-items: end; justify-content: center;">
                            <button class="btn btn-dark btn-lg text-uppercase" onclick="window.location.href='leinatural'">Saiba mais!</button>
                        </div>
                    </div>
                </div>
            </div>
            <!--Coluna DAO-->
            <div class="col-md-4 d-flex flex-column mr-5 ml-5" id="container-cards">
                <div class="wrapper-container d-flex flex-column h-100">
                    <div class="wrapper-bio-alt wrapper-dao flex-grow-1 d-flex flex-column">
                        <h2 class="pb-12">DAO</h2>
                        <p>
                            O <strong>Fraguismo</strong> funciona como uma <strong>DAO</strong> (Organização Autônoma Descentralizada), onde as decisões estratégicas são tomadas de forma descentralizada 
                            pela comunidade.
                            As votações não seguem um modelo democrático, mas são <strong>proporcionais</strong> à quantidade de <strong>tokens</strong> de cada membro, e são realizadas 
                            exclusivamente por <strong>Guardiões e VPL.</strong><br/><br/>
                            A <strong>descentralização</strong> garante que o <strong>Fraguismo</strong> permaneça fiel aos seus valores e jamais se torne um projeto pessoal de poder.
                        </p>
                        <div style="display: flex; height: 100%; width: 100%; align-items: end; justify-content: center;">
                            <button class="btn btn-dark btn-lg text-uppercase" onclick="window.location.href='dao'">Saiba mais!</button>
                        </div>
                    </div>
                </div>
            </div>
            <!--Coluna Hierarquia-->
            <div class="col-md-4 d-flex flex-column" id="container-cards">
                <div class="wrapper-container d-flex flex-column h-100">
                    <div class="wrapper-bio-alt flex-grow-1 d-flex flex-column">
                        <h2 class="pb-12">Hierarquia</h2>
                        <p>
                            A hierarquia do <strong>Fraguismo</strong> possui <strong>seis níveis.</strong> 
                            A ascensão depende exclusivamente do <strong>conhecimento teórico</strong> e da <strong>participação ativa </strong>na comunidade — 
                            sem interferência política ou favorecimentos.<br/><br/>
                            Somente membros que alcançam os níveis de <strong>Guardião ou VPL </strong>podem participar das decisões estratégicas da religião.<br/>
                            Isso assegura que as decisões importantes sejam feitas pelos mais comprometidos com os princípios da nossa fé.
                        </p>
                        <div style="display: flex; height: 100%; width: 100%; align-items: end; justify-content: center;">
                            <button class="btn btn-dark btn-lg text-uppercase" onclick="window.location.href='hierarquia'">Saiba mais!</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<section class="curso-fraga">
    <img src="{% static '/images/rothbard.webp' %}" alt="rothbard" loading="lazy"/>
    <div class="content-curso">
        <h4>CURSO DE FORMAÇÃO FRAGUISTA</h4>
        <p>O <strong>Curso de Formação Fraguista</strong> é o caminho para quem deseja evoluir dentro da hierarquia da nossa religião. Ele é baseado no estudo de obras 
            fundamentais e na realização de provas que testam o entendimento dos princípios que norteiam nossa fé.</p>
        <p>
            Cada etapa da formação conta com uma <strong>curadoria de livros</strong> de autores consagrados, previamente validados pela comunidade. Os alunos são 
            acompanhados por um <strong>tutor dedicado,</strong> responsável por orientar o processo de aprendizagem e esclarecer dúvidas ao longo da jornada.
        </p>
        <p>
            Além disso, o curso oferece acesso a <strong>grupos de estudo,</strong> onde são promovidos debates, reflexões e discussões enriquecedoras. 
            Essa vivência fortalece os laços entre os membros e estimula o pensamento crítico, promovendo o crescimento pessoal e intelectual dentro 
            dos pilares do Fraguismo.
        </p>
        <button onclick="window.location.href='cursofraguista'" class="btn btn-dark btn-lg text-uppercase btn-cta">Saiba mais e participe!</button>
    </div>
</section>

<section class="objetivo-section">
    <div class="custom-shape-divider-top-1741632460">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 100" preserveAspectRatio="none">
            <rect x="1200" height="1.2"></rect>
            <rect height="1.2"></rect>
            <path d="M0,0V3.6H580.08c11,0,19.92,5.09,19.92,13.2,0-8.14,8.88-13.2,19.92-13.2H1200V0Z" class="shape-fill"></path>
        </svg>
    </div>
    <div class="objetivo-imagem"></div>
    <div class="objetivo-texto">
        <h2>Nosso Objetivo</h2>
        <p>Nosso objetivo como religião é <span class="call-action">proteger os direitos naturais</span> humanos e avançar na direção de uma sociedade livre de coerção, onde todos possam viver e interagir de forma voluntária e pacífica.</p>
        <p>Pretendemos juntos <span class="call-action">criar soluções e alternativas não violentas</span> para os problemas e desafios da sociedade.</p>
        <p>Se você também acredita que a iniciação de <strong>violência contra pessoas pacíficas seja errada</strong> e gostaria de criar um novo sistema, <span class="call-action">junte-se a nós e nos ajude</span> a concretizar esse sonho de forma ativa.</p>
        <p><strong>Mas se você não acredita que isso seja possível ou prefere esperar que alguém faça isso por você. O Fraguismo não é o seu lugar.</strong></p>
        <p><span class="call-action">Somos uma religião propositiva e não destrutiva. Reclamar é fácil, difícil é criar algo novo. Seja alguém que faz a diferença!</span></p>
        <p>Dentro do Fraguismo você encontrará aliados para trazer o seu sonho para a realidade.</p>
        <p class="vpl">VPL!</p>
        <p><i>Vida Propriedade e Liberdade</i></p>
        <button class="btn btn-dark btn-lg text-uppercase">Saiba mais!</button>
    </div>
    <div class="custom-shape-divider-bottom-1741633164">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <rect x="1200" height="3.6"></rect>
            <rect height="3.6"></rect>
            <path d="M0,0V3.6H580.08c11,0,19.92,5.09,19.92,13.2,0-8.14,8.88-13.2,19.92-13.2H1200V0Z" class="shape-fill"></path>
        </svg>
    </div>
</section>

<section class="container-contador-fraga text-center">
    <div class="container">
        <p class="fs-1 text-contador">
            SOMOS MAIS DE<br />
            <span class="counter-item" data-target="560">0</span><br />
            FRAGUISTAS ATIVOS!</p>
    </div>
</section>


<div class="container-CTA">
    <div class="wrapper-CTA">
        <h2>Você tem interesse em se juntar a nós?</h2>
         <button class="btn btn-light btn-lg btn-cta" style="margin-top: 2%;" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSfsyzEI_4QouYa2h1_nuRDLeyUuVdhyAlhj09jJOBH7Q62Y9g/viewform', '_blank')">COMPLETE O FORMULÁRIO DE ENTRADA AQUI!</button>
        <p>
            O objetivo do formulário é compreendermos seu nível de familiaridade com os nossos princípios. 
            <strong>Você não precisa dominar tudo para começar,</strong> mas com essas informações poderemos recomendar os 
            melhores materiais de estudo personalizados para o seu perfil.
        </p>
        <span>
            <strong>Junte-se a nós e ajude a construir um novo caminho <br />baseado na liberdade, na ética e na paz.</strong>
        </span>
    </div>
    <div class="img-CTA">
        <img src="{% static '/images/fraga.webp' %}" alt="fraguismo" loading="lazy" class="img-fluid">
    </div>
</div>

<!-- JS USADO NO index.html -->
<script>

 /* Função para o contador começar a subir a partir do momento que o usuário estiver rolado até aonde ele está na tela */ 
 // Ajustado para funcionar em maior desempenho para celular com processadores mais fracos
function startCounter(counter) {
  const target = +counter.dataset.target;
  let lastValue = -1;
  const duration = 4000;
  const cores = navigator.hardwareConcurrency || 4;
  const adjustedDuration = cores < 4 ? duration * 1.5 : duration;
  const startTime = performance.now();

  function animate(time) {
    const progress = Math.min((time - startTime) / adjustedDuration, 1);
    const value = Math.floor(progress * target);

    if (value !== lastValue) {
      counter.textContent = value.toLocaleString();
      lastValue = value;
    }
    if (progress < 1) requestAnimationFrame(animate);
  }
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() => requestAnimationFrame(animate));
  } else {
    requestAnimationFrame(animate);
  }
}
function observeCounter() {
  const counter = document.querySelector('.counter-item');
  if (!counter) return;

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        startCounter(counter);
        observer.disconnect(); // impede que reinicie
      }
    });
  }, { threshold: 0.6 }); // inicia quando 60% estiver visível

  observer.observe(counter);
}

document.addEventListener('DOMContentLoaded', observeCounter);

        let started = false;

        function checkVisibility() {
            const section = document.querySelector('.container-contador-fraga');
            const sectionTop = section.getBoundingClientRect().top;
            const sectionBottom = section.getBoundingClientRect().bottom;

            if (sectionTop < window.innerHeight && sectionBottom > 0 && !started) {
                startCounter();
                started = true;
            }
        }

        window.addEventListener('load', checkVisibility);
        window.addEventListener('scroll', checkVisibility);
</script>

{% endblock content %}